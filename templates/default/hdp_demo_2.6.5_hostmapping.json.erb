{
  "blueprint" : "<%= node['hw']['cluster']['blueprint_name'] %>",
  "default_password" : "admin",
  "configurations" : [
    {
      "activity-zeppelin-shiro" : {
        "properties" : {
          "users.admin" : "<%= node['hw']['smartsense']['config']['activity-zeppelin-shiro']['users.admin'] %>"
        }
      }
    },
    {
      "ams-grafana-env" : {
        "properties" : {
          "metrics_grafana_data_dir" : "<%= node['hw']['ambari']['metrics']['config']['ams-grafana-env']['metrics_grafana_data_dir'] %>",
          "metrics_grafana_username" : "<%= node['hw']['ambari']['metrics']['config']['ams-grafana-env']['metrics_grafana_username'] %>",
          "metrics_grafana_password" : "<%= node['hw']['ambari']['metrics']['config']['ams-grafana-env']['metrics_grafana_password'] %>"
        }
      }
    },
    {
      "ams-hbase-site" : {
        "properties" : {
          "hbase.rootdir" : "<%= node['hw']['ambari']['metrics']['config']['ams-hbase-site']['hbase.rootdir'] %>",
          "hbase.tmp.dir" : "<%= node['hw']['ambari']['metrics']['config']['ams-hbase-site']['hbase.tmp.dir'] %>"
        }
      }
    },
    {
      "ams-site" : {
        "properties_attributes" : { },
        "properties" : {
          "timeline.metrics.aggregator.checkpoint.dir" : "<%= node['hw']['ambari']['metrics']['config']['ams-site']['timeline.metrics.aggregator.checkpoint.dir'] %>",
          "timeline.metrics.service.webapp.address" : "<%= node['fqdn'] %>:6188"
        }
      }
    },
    {
      "hdfs-site" : {
        "properties" : {
          "dfs.datanode.data.dir" : "<%= node['hw']['hadoop']['hdfs']['config']['hdfs-site']['dfs.datanode.data.dir'] %>",
          "dfs.journalnode.edits.dir": "<%= node['hw']['hadoop']['hdfs']['config']['hdfs-site']['dfs.journalnode.edits.dir'] %>",
          "dfs.namenode.name.dir": "<%= node['hw']['hadoop']['hdfs']['config']['hdfs-site']['dfs.namenode.name.dir'] %>"
        }
      }
    },
    {
      "infra-solr-env" : {
        "properties" : {
          "infra_solr_datadir" : "<%= node['hw']['ambari']['infra']['config']['infra-solr-env']['infra_solr_datadir'] %>",
          "infra_solr_keystore_password" : "<%= node['hw']['ambari']['infra']['config']['infra-solr-env']['infra_solr_keystore_password'] %>",
          "infra_solr_truststore_password" : "<%= node['hw']['ambari']['infra']['config']['infra-solr-env']['infra_solr_truststore_password'] %>"
        }
      }
    },
    {
      "logfeeder-env" : {
        "properties" : {
          "logfeeder_keystore_password" : "<%= node['hw']['logsearch']['config']['logfeeder-env']['logfeeder_keystore_password'] %>",
          "logfeeder_truststore_password" : "<%= node['hw']['logsearch']['config']['logfeeder-env']['logfeeder_truststore_password'] %>"
        }
      }
    },
    {
      "logsearch-admin-json" : {
        "properties" : {
          "logsearch_admin_username" : "<%= node['hw']['logsearch']['config']['logsearch-admin-json']['logsearch_admin_username'] %>",
          "logsearch_admin_password" : "<%= node['hw']['logsearch']['config']['logsearch-admin-json']['logsearch_admin_password'] %>"
        }
      }
    },
    {
      "logsearch-env" : {
        "properties" : {
          "logsearch_keystore_password" : "<%= node['hw']['logsearch']['config']['logsearch-env']['logsearch_keystore_password'] %>",
          "logsearch_truststore_password" : "<%= node['hw']['logsearch']['config']['logsearch-env']['logsearch_truststore_password'] %>"
        }
      }
    },
    {
      "yarn-site" : {
        "properties_attributes" : {
          "final" : {
            "yarn.resourcemanager.cluster-id" : "true"
          }
        },
        "properties" : {
          "yarn.nodemanager.local-dirs" : "<%= node['hw']['hadoop']['yarn']['config']['yarn-site']['yarn.nodemanager.local-dirs'] %>",
          "yarn.nodemanager.log-dirs" : "<%= node['hw']['hadoop']['yarn']['config']['yarn-site']['yarn.nodemanager.log-dirs'] %>",
          "yarn.resourcemanager.cluster-id" : "<%= node['hw']['hadoop']['yarn']['config']['yarn-site']['yarn.resourcemanager.cluster-id'] %>",
          "yarn.timeline-service.http-authentication.proxyuser.ambari.hosts" : "<%= node['fqdn'] %>",
          "yarn.timeline-service.leveldb-state-store.path" : "<%= node['hw']['hadoop']['yarn']['config']['yarn-site']['yarn.timeline-service.leveldb-state-store.path'] %>",
          "yarn.timeline-service.leveldb-timeline-store.path" : "<%= node['hw']['hadoop']['yarn']['config']['yarn-site']['yarn.timeline-service.leveldb-timeline-store.path'] %>"
        }
      }
    },
    {
      "zoo.cfg" : {
        "properties" : {
          "dataDir" : "<%= node['hw']['zookeeper']['config']['zoo.cfg']['dataDir'] %>"
        }
      }
    }
  ],
  "config_recommendation_strategy" : "ALWAYS_APPLY_DONT_OVERRIDE_CUSTOM_VALUES",
  "host_groups" :[
    {
      "name" : "host_group_demo",
      "hosts" : [
        {
          "fqdn" : "ambari-server"
        }
      ]
    }
  ]
}
